{
  "version": 3,
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/Cart/Carts.module.css (css module)"],"sourcesContent":["__turbopack_export_value__({\n  \"homeRigthCont\": \"homeRigthCont__Carts__8123cdb3\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA"}},
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":["/turbopack/[project]/components/Cart/Cart.tsx"],"sourcesContent":["\"use client\";\r\nimport { Image } from \"@nextui-org/react\";\r\nimport style from \"./Carts.module.css\";\r\nimport { useGetProductQuery } from \"@/lib/redux/service/productsAPI\";\r\nimport { useGetProductsCartQuery } from \"@/lib/redux/service/cartProductsAPI\";\r\nimport {\r\n  useDelProductCartMutation,\r\n  usePutPrudctCartMutation,\r\n} from \"@/lib/redux/service/cartProductsAPI\";\r\nimport { useSelector } from \"@/lib/redux/hooks\";\r\nimport { CartProduct } from \"@/utils/types\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useDispatch } from \"@/lib/redux/hooks\";\r\nimport { addCart, addTotalCart } from \"@/lib/redux/features/cartItemsSlice\";\r\nconst Cart = () => {\r\n  const [productId, setProductId] = useState(\"\");\r\n  const [flag, setFlag] = useState(false);\r\n  const dispatch = useDispatch();\r\n  const userId = useSelector((state) => state.userProfile.id);\r\n  const { cartItems } = useSelector((state) => state.cartItems);\r\n\r\n  const { data } = useGetProductsCartQuery({ id: userId });\r\n\r\n  const {\r\n    data: product,\r\n    isLoading,\r\n    isError,\r\n  } = useGetProductQuery({ id: productId });\r\n\r\n  const [mutate1] = useDelProductCartMutation();\r\n  const handleDelete = (productId: string) => {\r\n    // setProductId(productId);\r\n    mutate1({\r\n      cartItemId: productId,\r\n      userId,\r\n    }).then(() => {\r\n      let newCart = cartItems?.filter((item) => item?.id !== productId);\r\n      dispatch(addTotalCart(newCart));\r\n    });\r\n    setFlag(!flag);\r\n  };\r\n\r\n  const [mutate] = usePutPrudctCartMutation();\r\n  const handleAddCart = (productId: string, value: string) => {\r\n    setProductId(productId);\r\n    mutate({\r\n      cartItemId: productId,\r\n      userId,\r\n      value,\r\n    });\r\n    if (value === \"add\") {\r\n      let newCart = cartItems?.map((item) => {\r\n        if (item?.id === productId) {\r\n          return {\r\n            ...item,\r\n            quantity: item.quantity + 1,\r\n          };\r\n        }\r\n        return item;\r\n      });\r\n      dispatch(addTotalCart(newCart));\r\n    } else {\r\n      let newCart = cartItems?.map((item) => {\r\n        if (item?.id === productId) {\r\n          return {\r\n            ...item,\r\n            quantity: item.quantity - 1,\r\n          };\r\n        }\r\n        return item;\r\n      });\r\n      dispatch(addTotalCart(newCart));\r\n    }\r\n  };\r\n\r\n  let total = 0;\r\n\r\n  useEffect(() => {\r\n    dispatch(addTotalCart(data));\r\n\r\n    console.log(\r\n      \"UserId cambió a: \" + userId + \", pero el length es undefined? Length:\",\r\n      data?.length\r\n    );\r\n    console.log(cartItems);\r\n  }, [data, flag]);\r\n\r\n  return (\r\n    <div className={style.homeRigthCont}>\r\n      <div className=\"max-w-md mx-auto overflow-y-auto overflow-hidden\">\r\n        {cartItems?.map((product: CartProduct, index: number) => {\r\n          {\r\n            return (\r\n              <div\r\n                key={product.id}\r\n                className=\"flex items-center p-2 mr-2 my-2 ml-2 border border-black rounded shadow backdrop-blur-md bg-gray-50 \"\r\n              >\r\n                <div className=\"border border-gray-300 rounded mr-2 \">\r\n                  <Image\r\n                    src={product?.image}\r\n                    alt=\"Product Image\"\r\n                    height={80}\r\n                    width={80}\r\n                  />\r\n                </div>\r\n                <button onClick={() => handleDelete(product?.id)}>x</button>\r\n                <div\r\n                  className=\"ml-2 border-black\r\n                 5\"\r\n                >\r\n                  <h1 className=\"text-lg font-bold text-gray-950\">\r\n                    {product?.name}\r\n                  </h1>\r\n                  <p className=\"text-gray-950\">${product?.price}</p>\r\n                  <div className=\"mt-1\">\r\n                    <button\r\n                      className=\"bg-gray-200 hover:bg-gray-400 rounded-full px-2 py-1 text-xs font-semibold text-gray-700 hover:text-gray-800 mr-1\"\r\n                      onClick={() => handleAddCart(product?.id, \"decrement\")}\r\n                    >\r\n                      <Image\r\n                        src=\"/menos3.png\"\r\n                        height={8}\r\n                        width={10}\r\n                        alt=\"image\"\r\n                      />\r\n                    </button>\r\n                    <h2 className=\"inline-block bg-gray-200 rounded px-2 py-1 text-xs font-semibold text-gray-700 mr-1\">\r\n                      {product?.quantity}\r\n                    </h2>\r\n                    <button\r\n                      onClick={() => handleAddCart(product?.id, \"add\")}\r\n                      className=\"bg-gray-200 hover:bg-gray-400 rounded-full px-2 py-1 text-xs font-semibold text-gray-700 hover:text-gray-800 mr-1\"\r\n                    >\r\n                      <Image\r\n                        src=\"/anadir.png\"\r\n                        height={3}\r\n                        width={10}\r\n                        alt=\"image\"\r\n                      />\r\n                    </button>\r\n                    <h2 className=\"text-black text-lg\">\r\n                      Total:{\" \"}\r\n                      <h1 className=\"font-bold text-lg\">\r\n                        ${(total = product?.quantity * product?.price)}\r\n                      </h1>\r\n                    </h2>\r\n                  </div>\r\n                </div>\r\n                {index < cartItems.length - 1 && (\r\n                  <hr className=\"border-gray-300 mx-2\" /> // Línea divisoria\r\n                )}\r\n              </div>\r\n            );\r\n          }\r\n        })}\r\n        <div className=\"text-right mt-4\">\r\n          <h1 className=\"text-lg font-bold text-gray-950\">\r\n            Total: $\r\n            {cartItems?.reduce(\r\n              (acc, item) => total + parseInt(`${item.price}`),\r\n              0\r\n            )}\r\n          </h1>\r\n        </div>\r\n\r\n        <div className=\"text-center mt-4\">\r\n          <button className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\">\r\n            Buy\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Cart;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}